{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegisterComponent_form_2_div_8_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 12);\n    i0.ɵɵtext(1, \"Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_form_2_div_8_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 12);\n    i0.ɵɵtext(1, \"Minimum length must be 3 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_form_2_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, RegisterComponent_form_2_div_8_small_1_Template, 2, 0, \"small\", 11);\n    i0.ɵɵtemplate(2, RegisterComponent_form_2_div_8_small_2_Template, 2, 0, \"small\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors[\"minlength\"]);\n  }\n}\nfunction RegisterComponent_form_2_div_14_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 12);\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_form_2_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, RegisterComponent_form_2_div_14_small_1_Template, 2, 0, \"small\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors[\"required\"]);\n  }\n}\nfunction RegisterComponent_form_2_div_20_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 12);\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_form_2_div_20_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 12);\n    i0.ɵɵtext(1, \"Minimum length must be 6 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_form_2_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, RegisterComponent_form_2_div_20_small_1_Template, 2, 0, \"small\", 11);\n    i0.ɵɵtemplate(2, RegisterComponent_form_2_div_20_small_2_Template, 2, 0, \"small\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(19);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors[\"minlength\"]);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction RegisterComponent_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Registration Form\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\")(4, \"label\", 1);\n    i0.ɵɵtext(5, \"UserName\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 2, 3);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_form_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.user.username = $event);\n    })(\"ngModelChange\", function RegisterComponent_form_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.user.username = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, RegisterComponent_form_2_div_8_Template, 3, 2, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\")(10, \"label\", 4);\n    i0.ɵɵtext(11, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 5, 6);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_form_2_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.user.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, RegisterComponent_form_2_div_14_Template, 2, 1, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\")(16, \"label\", 7);\n    i0.ɵɵtext(17, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 8, 9);\n    i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_form_2_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.user.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, RegisterComponent_form_2_div_20_Template, 3, 2, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"br\");\n    i0.ɵɵelementStart(22, \"div\")(23, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_form_2_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onCreateAccount());\n    });\n    i0.ɵɵtext(24, \"SignUp\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r1 = i0.ɵɵreference(7);\n    const _r3 = i0.ɵɵreference(13);\n    const _r5 = i0.ɵɵreference(19);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.username)(\"ngModel\", ctx_r0.user.username)(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, _r1.touched && _r1.errors));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r1.touched && _r1.errors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.email)(\"ngClass\", i0.ɵɵpureFunction1(12, _c0, _r3.touched && _r3.errors));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r3.touched && _r3.errors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.user.password)(\"ngClass\", i0.ɵɵpureFunction1(14, _c0, _r5.touched && _r5.errors));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r5.touched && _r5.errors);\n  }\n}\nexport class RegisterComponent {\n  constructor(signupService, router) {\n    this.signupService = signupService;\n    this.router = router;\n    this.user = {\n      username: '',\n      email: '',\n      roles: [\"user\"],\n      password: ''\n    };\n    this.isSuccessful = false;\n    this.isSignUpFailed = false;\n    this.errorMessage = '';\n  }\n  ngOnInit() {}\n  onCreateAccount() {\n    // console.log(this.signup);  \n    this.signupService.registerUser(this.user).subscribe(data => {\n      console.log(data);\n      this.isSuccessful = true;\n      this.isSignUpFailed = false;\n      // this.router.navigate(['login']);\n    }, err => {\n      this.errorMessage = err.error.message;\n      this.isSignUpFailed = true;\n    });\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"for\", \"username\"], [\"type\", \"text\", \"name\", \"username\", \"id\", \"username\", \"placeholder\", \"Enter your name\", \"required\", \"\", \"minlength\", \"3\", \"maxlength\", \"20\", 1, \"textboxs\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"username\", \"ngModel\"], [\"for\", \"email\"], [\"type\", \"email\", \"name\", \"email\", \"id\", \"email\", \"placeholder\", \"Enter your Email\", \"required\", \"\", 1, \"textboxs\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter your password\", \"required\", \"\", \"minlength\", \"6\", 1, \"textboxs\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"password\", \"ngModel\"], [\"id\", \"btn1\", \"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\")(1, \"div\");\n      i0.ɵɵtemplate(2, RegisterComponent_form_2_Template, 25, 16, \"form\", 0);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isSucessful);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.MaxLengthValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IA4CYA,iCAA+D;IAAAA,gCAAgB;IAAAA,iBAAQ;;;;;IACvFA,iCAAgE;IAAAA,mDAAmC;IAAAA,iBAAQ;;;;;IAF7GA,2BAAiD;IAC/CA,oFAAuF;IACvFA,oFAA2G;IAE7GA,iBAAM;;;;;IAHwBA,eAAiC;IAAjCA,6CAAiC;IACjCA,eAAkC;IAAlCA,8CAAkC;;;;;IAiB9DA,iCAA4D;IAAAA,iCAAiB;IAAAA,iBAAQ;;;;;IADvFA,2BAA2C;IACzCA,qFAAqF;IAEvFA,iBAAM;;;;;IAFwBA,eAA8B;IAA9BA,6CAA8B;;;;;IA0B1DA,iCAA+D;IAAAA,oCAAoB;IAAAA,iBAAQ;;;;;IAC3FA,iCAAgE;IAAAA,mDAAmC;IAAAA,iBAAQ;;;;;IAF7GA,2BAAiD;IAC/CA,qFAA2F;IAC3FA,qFAA2G;IAC7GA,iBAAM;;;;;IAFwBA,eAAiC;IAAjCA,6CAAiC;IACjCA,eAAkC;IAAlCA,8CAAkC;;;;;;;;;;;IA9DpEA,4BAA2B;IACrBA,iCAAiB;IAAAA,iBAAK;IAC1BA,2BAAK;IACmBA,wBAAQ;IAAAA,iBAAQ;IACtCA,mCAW+D;IAN/DA;MAAAA;MAAA;MAAA,OAAaA,8CAClB;IAAA,EADgC;MAAAA;MAAA;MAAA,OAIdA,8CACjB;IAAA,EAL+B;IAL3BA,iBAW+D;IAC/DA,yEAIM;IACRA,iBAAM;IAENA,2BAAK;IACgBA,sBAAK;IAAAA,iBAAQ;IAChCA,oCAQyD;IADzDA;MAAAA;MAAA;MAAA,OAAaA,2CACjB;IAAA,EAD4B;IAPxBA,iBAQyD;IACzDA,2EAGM;IACRA,iBAAM;IAUNA,4BAAK;IACmBA,yBAAQ;IAAAA,iBAAQ;IACtCA,oCAS+D;IAJ/DA;MAAAA;MAAA;MAAA,OAAaA,8CACjB;IAAA,EAD+B;IAL3BA,iBAS+D;IAC/DA,2EAGM;IACRA,iBAAM;IAAAA,sBAAI;IAEVA,4BAAK;IACqDA;MAAAA;MAAA;MAAA,OAASA,wCAAiB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;;;;IA1DnGA,eAA2B;IAA3BA,8CAA2B;IAOrBA,eAAyC;IAAzCA,gDAAyC;IAgB/CA,eAAwB;IAAxBA,2CAAwB;IAElBA,eAAmC;IAAnCA,gDAAmC;IAqBzCA,eAA2B;IAA3BA,8CAA2B;IAKrBA,eAAyC;IAAzCA,gDAAyC;;;AC9EzD,OAAM,MAAOC,iBAAiB;EAY5BC,YAAoBC,aAAyB,EAASC,MAAa;IAA/C,kBAAa,GAAbD,aAAa;IAAqB,WAAM,GAANC,MAAM;IAV5D,SAAI,GAAK;MACPC,QAAQ,EAAC,EAAE;MACXC,KAAK,EAAC,EAAE;MACRC,KAAK,EAAC,CAAC,MAAM,CAAC;MACdC,QAAQ,EAAC;KACV;IACD,iBAAY,GAAG,KAAK;IACpB,mBAAc,GAAG,KAAK;IACtB,iBAAY,GAAG,EAAE;EAEoD;EAGrEC,QAAQ,IAER;EAGAC,eAAe;IACb;IACA,IAAI,CAACP,aAAa,CAACQ,YAAY,CAAC,IAAI,CAACC,IAAI,CAAC,CACzCC,SAAS,CAACC,IAAI,IAAE;MACjBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAI,CAACG,YAAY,GAAG,IAAI;MACxB,IAAI,CAACC,cAAc,GAAG,KAAK;MACzB;IACF,CAAC,EACDC,GAAG,IAAE;MACH,IAAI,CAACC,YAAY,GAACD,GAAG,CAACE,KAAK,CAACC,OAAO;MACnC,IAAI,CAACJ,cAAc,GAAC,IAAI;IAC1B,CAAC,CACA;EACH;;AAlCWjB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDgB5B3B,4BAAM;MAEFA,sEAsEO;MACTA,iBAAM;;;MAvEGA,eAAkB;MAAlBA,uCAAkB","names":["i0","RegisterComponent","constructor","signupService","router","username","email","roles","password","ngOnInit","onCreateAccount","registerUser","user","subscribe","data","console","log","isSuccessful","isSignUpFailed","err","errorMessage","error","message","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\nikhith\\Documents\\CaseStudyFrontEnd\\Shopping-Cart\\src\\app\\register\\register.component.html","C:\\Users\\nikhith\\Documents\\CaseStudyFrontEnd\\Shopping-Cart\\src\\app\\register\\register.component.ts"],"sourcesContent":["<!-- <nav class=\"navbar navbar-dark bg-primary text-light fixed-top\">\n    <div class=\"container\">\n      <a class=\"navbar-brand\" routerLink=\"\">\n        <a class=\"navbar-brand\" href=\"#\">\n          <img src=\"https://www.pngitem.com/pimgs/m/45-459393_cart-shopping-cart-icon-png-white-transparent-png.png\"\n            width=\"80\" height=\"67\" alt=\"\">\n        </a>\n        Shopping Cart</a>\n      <div class=\"navbar-nav-scroll\">\n        <ul class=\"navbar-nav flex-row\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"\">Home</a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link active\" routerLink=\"/login\">Log in</a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"/register\">Sign up</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav> -->\n  \n  \n  <body>\n    <div>\n      <form *ngIf=\"!isSucessful\">\n        <h2>Registration Form</h2>\n        <div>\n          <label for=\"username\">UserName</label>\n          <input type=\"text\"\n          name=\"username\"\n          class=\"textboxs\" \n          id=\"username\" \n          placeholder=\"Enter your name\"\n          [(ngModel)]=\"user.username\" \n          required \n          minlength=\"3\" \n          maxlength=\"20\" \n          [(ngModel)]=\"user.username\"\n          #username=\"ngModel\" \n          [ngClass]=\"{'is-invalid':username.touched && username.errors}\">\n          <div *ngIf=\"username.touched && username.errors\">\n            <small class=\"text-danger\" *ngIf=\"username.errors['required']\">Name is required</small>\n            <small class=\"text-danger\" *ngIf=\"username.errors['minlength']\">Minimum length must be 3 characters</small>\n            <!-- <small class=\"text-danger\" *ngIf=\"username.errors['maxlength']\">Maximum length must be 20 characters</small> -->\n          </div>\n        </div>\n  \n        <div>\n          <label for=\"email\">Email</label>\n          <input type=\"email\" \n          class=\"textboxs\" \n          name=\"email\" \n          id=\"email\" \n          placeholder=\"Enter your Email\"\n          required\n          #email=\"ngModel\"\n          [(ngModel)]=\"user.email\"\n          [ngClass]=\"{'is-invalid':email.touched && email.errors}\">\n          <div *ngIf=\"email.touched && email.errors\">\n            <small class=\"text-danger\" *ngIf=\"email.errors['required']\">Email is required</small>\n            <!-- <small class=\"text-danger\" *ngIf=\"email.errors['pattern']\">Email must follow email pattern</small>  -->\n          </div>\n        </div>\n  \n        <!-- <div>\n          <label for=\"role\">Role:</label><br>\n          <select class=\"role\" name=\"role\" id=\"role\" [(ngModel)]=\"user.roles\">\n            <option value=\"user\">user</option>\n            <option value=\"admin\">admin</option> \n          </select>\n        </div> -->\n  \n        <div>\n          <label for=\"password\">Password</label>\n          <input type=\"password\" \n          class=\"textboxs\" \n          id=\"password\" \n          name=\"password\" \n          placeholder=\"Enter your password\"\n          [(ngModel)]=\"user.password\"\n          required\n          minlength=\"6\"\n          #password=\"ngModel\" \n          [ngClass]=\"{'is-invalid':password.touched && password.errors}\">\n          <div *ngIf=\"password.touched && password.errors\">\n            <small class=\"text-danger\" *ngIf=\"password.errors['required']\">Password is required</small>\n            <small class=\"text-danger\" *ngIf=\"password.errors['minlength']\">Minimum length must be 6 characters</small>\n          </div>\n        </div><br>\n  \n        <div>\n          <button class=\"btn btn-success\" id=\"btn1\" type=\"submit\" (click)=\"onCreateAccount()\">SignUp</button>\n        </div>\n  \n      </form>\n    </div>\n  </body>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../_services/auth.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent {\n\n  user:any={\n    username:'',\n    email:'',\n    roles:[\"user\"],\n    password:''\n  }\n  isSuccessful = false;\n  isSignUpFailed = false;\n  errorMessage = '';\n\n  constructor(private signupService:AuthService,private router:Router){}\n\n  \n  ngOnInit() {\n    \n  }\n\n  \n  onCreateAccount(){\n    // console.log(this.signup);  \n    this.signupService.registerUser(this.user)\n    .subscribe(data=>{\n    console.log(data);\n    this.isSuccessful = true;\n    this.isSignUpFailed = false;\n      // this.router.navigate(['login']);\n    },\n    err=>{\n      this.errorMessage=err.error.message;\n      this.isSignUpFailed=true;\n    }\n    ) ;  \n  }\n  \n  }\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}